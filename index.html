<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Web Tài Khoản</title>
</head>
<body>
  <h2>Đăng ký / Đăng nhập</h2>
  <input type="text" id="username" placeholder="Tên người dùng" />
  <input type="password" id="password" placeholder="Mật khẩu" />
  <button onclick="login()">Đăng nhập</button>
  <button onclick="register()">Đăng ký</button>

  <div id="home" style="display:none;">
    <h3>Chào, <span id="userDisplay"></span></h3>
    <p>Số dư: <span id="balance"></span> VND</p>
  </div>

  <script>
    const scriptURL = 'https://script.google.com/macros/s/PASTE_YOUR_DEPLOYED_URL_HERE/exec';

    async function register() {
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      const res = await fetch(`${scriptURL}?action=register&user=${username}&pass=${password}`);
      const data = await res.json();
      alert(data.message);
    }

    async function login() {
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      const res = await fetch(`${scriptURL}?action=login&user=${username}&pass=${password}`);
      const data = await res.json();
      if (data.success) {
        document.getElementById('home').style.display = 'block';
        document.getElementById('userDisplay').textContent = data.name;
        document.getElementById('balance').textContent = data.balance;
      } else {
        alert(data.message);
      }
    }
  </script>
</body>
</html>
